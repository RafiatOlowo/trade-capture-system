# --- Spring Data Source Configuration for Integration Tests ---

# 1. Force In-Memory H2 Database for isolation and speed
# The 'mem' option creates a transient, in-memory database that is destroyed when the JVM shuts down.
spring.datasource.url=jdbc:h2:mem:testdb

# 2. H2 Driver
spring.datasource.driverClassName=org.h2.Driver

# 3. Credentials (H2 defaults)
spring.datasource.username=sa
spring.datasource.password=password

# --- Hibernate/JPA Configuration for Tests ---

# Re-enable DDL generation (create tables from entities) for the in-memory database
spring.jpa.hibernate.ddl-auto=create-drop

# Show SQL queries generated by Hibernate (helpful for debugging RSQL)
spring.jpa.show-sql=true
logging.level.org.hibernate.sql=debug

# Set the dialect explicitly for H2 to ensure compatibility
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect